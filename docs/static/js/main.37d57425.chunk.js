(this["webpackJsonpiplytics-test"]=this["webpackJsonpiplytics-test"]||[]).push([[0],{221:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(69),i=n.n(r),s=(n(81),n(82),n(83),n(12)),o=n.n(s),u=n(37),l=n(70),f=n(71),h=n(76),j=n(74),b=n(10),g=n(0),d=function(t){return Object(g.jsx)("button",Object(b.a)(Object(b.a)({},t),{},{className:"button",children:t.children}))},p=n(75),m=function(t){var e=a.useState(""),n=Object(p.a)(e,2),c=n[0],r=n[1];return Object(g.jsx)("input",Object(b.a)(Object(b.a)({},t),{},{onChange:function(e){"function"===typeof t.onChange&&t.onChange(e),r(e.target.value)},value:c,className:"input"}))},O=n(72),v=n.n(O),x=function(t){var e=t.data.map((function(t){var e=t.images,n=t.id,a=t.title,c=e.downsized.url;return Object(g.jsx)("img",{alt:a,id:n,width:300,height:"auto",src:c},n)}));return Object(g.jsx)("div",{children:Object(g.jsx)(v.a,{className:"masonry-component",children:e})})},C=function(t){var e=t.totalCount,n=t.offset,a=t.limit,c=t.onChangePage,r=Math.floor(e/a),i=r-Math.floor((e-n)/a)+1;return Object(g.jsxs)("div",{className:"pagination",children:[Object(g.jsxs)("p",{className:"pagination__title",children:["Total amount of pages ",r]}),Object(g.jsxs)("p",{className:"pagination__title",children:["Current Page is ",i]}),Object(g.jsxs)("div",{className:"pagination__buttons",children:[Object(g.jsx)("button",{className:"button pagination__button",onClick:function(){return c("prev")},children:"prev page"}),Object(g.jsx)("button",{className:"button pagination__button",onClick:function(){return c("next")},children:"next page"})]})]})},N=n(73),k=n.n(N).a.create({params:{api_key:"ARj6kkjzPc9285bIbHEzN6p2SU2dghPX"}}),y=function(t,e,n){return k.get("https://api.giphy.com/v1/gifs/search",{params:{q:t,offset:e,limit:n}})},_=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={offset:0,totalCount:0,limit:25,searchQuery:"",images:[]},t.onClickHandler=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({offset:0,totalCount:0},(function(){return t.fetchData()}));case 1:case"end":return e.stop()}}),e)}))),t.fetchData=Object(u.a)(o.a.mark((function e(){var n,a,c,r,i,s,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.state,a=n.searchQuery,c=n.limit,r=n.offset,e.next=4,y(a,r,c);case 4:i=e.sent,s=i.data,u=s.data,l=s.pagination,t.setState({totalCount:l.total_count,images:u}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.setState({error:!0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),t.onChangeHandler=function(e){t.setState({searchQuery:e.target.value})},t.onChangePage=function(e){var n=t.state,a=n.offset,c=n.limit,r=n.totalCount;"prev"===e?a-c>=0&&t.setState({offset:a-c},(function(){return t.fetchData()})):a+c<r&&t.setState({offset:a+c},(function(){return t.fetchData()}))},t}return Object(f.a)(n,[{key:"render",value:function(){var t=this.state,e=t.images,n=t.totalCount,a=t.offset,c=t.limit;return t.error?Object(g.jsx)("p",{className:"error-title",children:"Something when wrong"}):Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("h1",{className:"main-title",children:"Try to find gifs"}),Object(g.jsx)("div",{className:"container-top-row",children:Object(g.jsxs)("div",{className:"container__search-row",children:[Object(g.jsx)(m,{onChange:this.onChangeHandler}),Object(g.jsx)(d,{onClick:this.onClickHandler,children:"Search gif"})]})}),!!e.length&&Object(g.jsx)(C,{onChangePage:this.onChangePage,totalCount:n,offset:a,limit:c}),Object(g.jsx)(x,{data:e})]})}}]),n}(a.Component);var w=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(_,{})})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root")),S()},81:function(t,e,n){},82:function(t,e,n){},83:function(t,e,n){}},[[221,1,2]]]);
//# sourceMappingURL=main.37d57425.chunk.js.map